(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{37:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(8),c=n.n(s),o=(n(37),n(10)),l=n(9),r=n(23),d=n(24),h=n(7),m=n(31),u=n(30),j=n(65),b=n(67),p=n(66),O=(n(14),n(25),n(29),n(26),n(1)),v=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={Analyses:[],activeItem:{id:null,analysis_name:"",density:"",kinematic_viscosity:"",pipe_diameter:"",volumetric_flow_rate:"",pipe_material:"",material_condition:"",pipe_length:"",owner:1,username:"",password:""},editing:!1},a.getToken=a.getToken.bind(Object(h.a)(a)),a.fetchTasks=a.fetchTasks.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.handleLogout=a.handleLogout.bind(Object(h.a)(a)),a}return Object(d.a)(n,[{key:"getCookie",value:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var i=n[a].trim();if(i.substring(0,e.length+1)===e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}return t}},{key:"componentWillMount",value:function(){this.fetchTasks()}},{key:"getToken",value:function(e){e.preventDefault();var t=this.getCookie("csrftoken");fetch("/api-token-auth/",{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":t},body:JSON.stringify(this.state.activeItem)}).then((function(e){return e.json()})).then((function(e){return localStorage.setItem("user_token",e.token)})).then(this.fetchTasks)}},{key:"fetchTasks",value:function(){var e=this,t=localStorage.getItem("user_token");console.log("token: "+t),fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL,"/api/analysis/"),{headers:{Authorization:"Token "+t}}).then((function(e){return e.json()})).then((function(t){return e.setState({Analyses:t})}))}},{key:"deleteItem",value:function(e){var t=this,n=this.getCookie("csrftoken"),a=localStorage.getItem("user_token");fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL,"/api/analysis/").concat(e.id,"/"),{method:"DELETE",headers:{"Content-type":"application/json","X-CSRFToken":n,Authorization:"Token "+a}}).then((function(e){t.fetchTasks()}))}},{key:"handleChange",value:function(e){var t=e.target.name,n=e.target.value;console.log("Name:",t),console.log("Value:",n),this.setState({activeItem:Object(l.a)(Object(l.a)({},this.state.activeItem),{},Object(o.a)({owner:1},t,e.target.value))})}},{key:"startEdit",value:function(e){this.setState({activeItem:e,editing:!0})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=this.getCookie("csrftoken"),a="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL,"/api/analysis/"),i=localStorage.getItem("user_token"),s="POST";!0===this.state.editing&&(a="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL,"/api/analysis/").concat(this.state.activeItem.id,"/"),s="PUT",this.setState({editing:!1})),console.log(this.state.activeItem),fetch(a,{method:s,headers:{"Content-type":"application/json","X-CSRFToken":n,Authorization:"Token "+i},body:JSON.stringify(this.state.activeItem)}).then((function(e){t.fetchTasks(),t.setState({activeItem:{id:null,analysis_name:"",density:"",kinematic_viscosity:"",pipe_diameter:"",volumetric_flow_rate:"",pipe_material:"",material_condition:"",pipe_length:"",owner:1}})})).catch((function(e){console.log("ERROR:",e)}))}},{key:"handleLogout",value:function(e){e.preventDefault(),localStorage.setItem("user_token",""),this.fetchTasks()}},{key:"render",value:function(){var e=this.state.Analyses,t=this,n=localStorage.getItem("user_token");return console.log("user_token: "+n),""===n||null===n?Object(O.jsx)(j.a,{children:Object(O.jsx)("form",{onSubmit:this.getToken,id:"form",children:Object(O.jsxs)("div",{className:"row mt-5",children:[Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"text",placeholder:"Username...",id:"username",value:this.state.username,onChange:this.handleChange,className:"form-control",name:"username"})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"password",placeholder:"Password...",id:"password",value:this.state.password,onChange:this.handleChange,className:"form-control",name:"password"})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{id:"submit",type:"submit",className:"btn btn-success",name:"login",value:"Login"})})]})})}):Object(O.jsxs)(j.a,{children:[Object(O.jsx)(b.a,{children:Object(O.jsx)("form",{onSubmit:this.handleLogout,id:"logout-form",children:Object(O.jsx)("input",{id:"submit",type:"submit",className:"btn btn-danger",name:"logout",value:"Logout"})})}),Object(O.jsxs)("form",{onSubmit:this.handleSubmit,id:"form",children:[Object(O.jsxs)("div",{className:"row mt-5",children:[Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"text",placeholder:"Analysis Name...",id:"analysis_name",value:this.state.activeItem.analysis_name,onChange:this.handleChange,className:"form-control",name:"analysis_name"})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"text",placeholder:"Density...",id:"density",value:this.state.activeItem.density,onChange:this.handleChange,className:"form-control",name:"density"})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"text",placeholder:"Kinematic Viscosity...",id:"kinematic_viscosity",value:this.state.activeItem.kinematic_viscosity,onChange:this.handleChange,className:"form-control",name:"kinematic_viscosity"})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"text",placeholder:"Pipe Diameter...",id:"pipe_diameter",value:this.state.activeItem.pipe_diameter,onChange:this.handleChange,className:"form-control",name:"pipe_diameter"})})]}),Object(O.jsxs)("div",{className:"row mt-5",children:[Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"text",placeholder:"Volumetric Flow Rate...",id:"volumetric_flow_rate",value:this.state.activeItem.volumetric_flow_rate,onChange:this.handleChange,className:"form-control",name:"volumetric_flow_rate"})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"text",placeholder:"Pipe Material...",id:"pipe_material",value:this.state.activeItem.pipe_material,onChange:this.handleChange,className:"form-control",name:"pipe_material"})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"text",placeholder:"Material Condition...",id:"material_condition",value:this.state.activeItem.material_condition,onChange:this.handleChange,className:"form-control",name:"material_condition"})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"text",placeholder:"Pipe Length...",id:"pipe_length",value:this.state.activeItem.pipe_length,onChange:this.handleChange,className:"form-control",name:"pipe_length"})})]}),Object(O.jsx)("div",{className:"mt-3 mb-5",children:Object(O.jsx)("input",{id:"submit",type:"submit",className:"btn btn-success",value:"Calculate Head Loss",name:"calculate_head_loss"})})]}),Object(O.jsxs)(p.a,{striped:!0,bordered:!0,hover:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Name"}),Object(O.jsx)("th",{children:"Density"}),Object(O.jsx)("th",{children:"Kinematic Viscosity"}),Object(O.jsx)("th",{children:"Pipe Diameter"}),Object(O.jsx)("th",{children:"Volumetric Flow Rate"}),Object(O.jsx)("th",{children:"Material"}),Object(O.jsx)("th",{children:"Pipe Length"}),Object(O.jsx)("th",{children:"Head Loss"})]})}),Object(O.jsx)("tbody",{children:e.map((function(e,n){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.analysis_name}),Object(O.jsx)("td",{children:e.density}),Object(O.jsx)("td",{children:e.kinematic_viscosity.toExponential(3)}),Object(O.jsx)("td",{children:e.pipe_diameter}),Object(O.jsx)("td",{children:e.volumetric_flow_rate}),Object(O.jsxs)("td",{children:[e.pipe_material," (",e.material_condition,")"]}),Object(O.jsx)("td",{children:e.pipe_length}),Object(O.jsx)("td",{children:e.head_loss.toExponential(2)}),Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"btn-group",children:[Object(O.jsx)("button",{onClick:function(){return t.deleteItem(e)},className:"btn btn-sm btn-outline-dark delete",type:"button",children:"D"}),Object(O.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){return t.startEdit(e)},children:"E"})]})})]},e.id)}))})]})]})}}]),n}(i.a.Component),_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),s(e),c(e)}))};c.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(v,{})}),document.getElementById("root")),_()}},[[61,1,2]]]);
//# sourceMappingURL=main.0da601fc.chunk.js.map